\hypertarget{_n_p_c_ai_8h_source}{}\doxysection{NPCAi.\+h}
\label{_n_p_c_ai_8h_source}\index{D:/Repositories/Space Engine/SpaceGame/include/game/objects/NPCAi.h@{D:/Repositories/Space Engine/SpaceGame/include/game/objects/NPCAi.h}}
\mbox{\hyperlink{_n_p_c_ai_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#ifndef NPC\_AI\_H}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#define NPC\_AI\_H}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_overworld_script_8h}{game/objects/OverworldScript.h}}"{}}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_script_parse_8h}{game/objects/ScriptParse.h}}"{}}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_g_u_i_8h}{game/GUI/GUI.h}}"{}}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_random_8h}{utility/Random.h}}"{}}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_player_data_8hpp}{game/data/PlayerData.hpp}}"{}}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{keyword}{class }\mbox{\hyperlink{class_n_p_c___overworld_script}{NPC\_OverworldScript}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_overworld_script}{OverworldScript}}}
\DoxyCodeLine{13 \{}
\DoxyCodeLine{14 \textcolor{keyword}{public}:}
\DoxyCodeLine{15     \textcolor{keyword}{using }\mbox{\hyperlink{class_overworld_script_abb76ccaf39dd0d62f465cd070164e310}{OverworldScript::OverworldScript}};}
\DoxyCodeLine{16     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_n_p_c___overworld_script_a273441fc750f4b806526ed954fc068fc}{linkNPC}}(std::shared\_ptr<Ov\_Sprite::RunSprite> npc) \{ m\_NPC = npc; \};}
\DoxyCodeLine{17 }
\DoxyCodeLine{18     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_n_p_c___overworld_script_a8abd4ca9f242ff50c178b9f07dae37f2}{process}}(\textcolor{keywordtype}{double} deltaTime)}
\DoxyCodeLine{19     \{}
\DoxyCodeLine{20         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_overworld_script_a9dbc603deb0424d4459c9ce50e666db0}{OverworldScript::process}}(deltaTime))}
\DoxyCodeLine{21         \{}
\DoxyCodeLine{22             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{23         \}}
\DoxyCodeLine{24         \mbox{\hyperlink{struct_script_element}{ScriptElement}} el = \mbox{\hyperlink{class_overworld_script_a862509556bec4bd05a44ff58cd0fba7d}{m\_Script}}[\mbox{\hyperlink{class_overworld_script_a6d72e78b98e1325c63ee25691750c1a1}{m\_Index}}];}
\DoxyCodeLine{25         \textcolor{keywordflow}{switch} (el.\mbox{\hyperlink{struct_script_element_a662d0e8c074cd1207c5261a289385ce5}{instruction}})}
\DoxyCodeLine{26         \{}
\DoxyCodeLine{27         \textcolor{keywordflow}{case} ScriptInstruction::NPC\_FACE:}
\DoxyCodeLine{28             m\_NPC-\/>m\_Direction = (\mbox{\hyperlink{namespace_world_ace8241ae560e8ae670f55dcb311246d8}{World::Direction}})el.\mbox{\hyperlink{struct_script_element_a1809a6fc6703f0dee100c624a044351e}{info}}.\mbox{\hyperlink{struct_instruction_info_af89ddd3fb7473fc34587d3cc742ddbba}{dirInfo}}.\mbox{\hyperlink{struct_d_i_r_e_c_t_i_o_n___i_n_f_o_a3a18ab801ab810a837a192149caf8969}{direction}};}
\DoxyCodeLine{29             \mbox{\hyperlink{class_overworld_script_a6d72e78b98e1325c63ee25691750c1a1}{m\_Index}}++;}
\DoxyCodeLine{30             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{31         \textcolor{keywordflow}{case} ScriptInstruction::NPC\_WALK:}
\DoxyCodeLine{32             if (\mbox{\hyperlink{class_overworld_script_addab20924d36628de6af9b7d9b87a373}{SpriteWalk}}(m\_NPC.get(), m\_NPC-\/>m\_Busy, deltaTime))}
\DoxyCodeLine{33             \{}
\DoxyCodeLine{34                 \mbox{\hyperlink{class_overworld_script_a6d72e78b98e1325c63ee25691750c1a1}{m\_Index}}++;}
\DoxyCodeLine{35             \}}
\DoxyCodeLine{36             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{37         \textcolor{keywordflow}{case} ScriptInstruction::NPC\_RUN:}
\DoxyCodeLine{38             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_overworld_script_a5c21e8ded7caffc30caa16e4914c970b}{SpriteRun}}(m\_NPC.get(), m\_NPC-\/>m\_Busy, deltaTime))}
\DoxyCodeLine{39             \{}
\DoxyCodeLine{40                 \mbox{\hyperlink{class_overworld_script_a6d72e78b98e1325c63ee25691750c1a1}{m\_Index}}++;}
\DoxyCodeLine{41             \}}
\DoxyCodeLine{42             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{43         \textcolor{keywordflow}{case} ScriptInstruction::NPC\_WALK\_TO\_TILE:}
\DoxyCodeLine{44             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a09e52ffae82f50dfc01f4e0fc8e9a07c}{directionsIndex}} == -\/1)}
\DoxyCodeLine{45             \{}
\DoxyCodeLine{46                 \mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}} = \mbox{\hyperlink{namespace_path_finding_acca623c9f1caa7430c8de20bc9d38ae6}{PathFinding::GetPath}}(m\_NPC.get(), \{ (int)el.info.tileInfo.x, (int)el.info.tileInfo.z \}, (\mbox{\hyperlink{namespace_world_af67b2894bd6cf5e4e4375ca72cb5f93f}{World::WorldHeight}})el.\mbox{\hyperlink{struct_script_element_a1809a6fc6703f0dee100c624a044351e}{info}}.\mbox{\hyperlink{struct_instruction_info_aaefa90071fe733e447a13ad4e418d695}{tileInfo}}.\mbox{\hyperlink{struct_t_i_l_e___i_n_f_o_af059411ac2808e8b7302e683043cfe0e}{h}});}
\DoxyCodeLine{47                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a09e52ffae82f50dfc01f4e0fc8e9a07c}{directionsIndex}} == -\/2)}
\DoxyCodeLine{48                 \{}
\DoxyCodeLine{49                     \mbox{\hyperlink{class_overworld_script_a6d72e78b98e1325c63ee25691750c1a1}{m\_Index}}++;}
\DoxyCodeLine{50                     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{51                 \}}
\DoxyCodeLine{52                 m\_NPC-\/>m\_Direction = \mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a3881836fda05c4ac6003763400e11cab}{directions}}[\mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a09e52ffae82f50dfc01f4e0fc8e9a07c}{directionsIndex}}];}
\DoxyCodeLine{53                 \mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a09e52ffae82f50dfc01f4e0fc8e9a07c}{directionsIndex}}++;}
\DoxyCodeLine{54             \}}
\DoxyCodeLine{55             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a09e52ffae82f50dfc01f4e0fc8e9a07c}{directionsIndex}} >= \mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a3881836fda05c4ac6003763400e11cab}{directions}}.size())}
\DoxyCodeLine{56             \{}
\DoxyCodeLine{57                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_overworld_script_addab20924d36628de6af9b7d9b87a373}{SpriteWalk}}(m\_NPC.get(), m\_NPC-\/>m\_Busy, deltaTime))}
\DoxyCodeLine{58                 \{}
\DoxyCodeLine{59                     \mbox{\hyperlink{struct_path_finding_1_1_path}{PathFinding::Path}} path; \mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}} = path;}
\DoxyCodeLine{60                     \mbox{\hyperlink{class_overworld_script_a6d72e78b98e1325c63ee25691750c1a1}{m\_Index}}++;}
\DoxyCodeLine{61                 \}}
\DoxyCodeLine{62                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{63             \}}
\DoxyCodeLine{64             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_overworld_script_addab20924d36628de6af9b7d9b87a373}{SpriteWalk}}(m\_NPC.get(), m\_NPC-\/>m\_Busy, deltaTime))}
\DoxyCodeLine{65             \{}
\DoxyCodeLine{66                 \mbox{\hyperlink{namespace_path_finding_a54e47b7868cbe87ab777eb3b04225df4}{PathFinding::ValidatePath}}(m\_NPC.get(), \{ (int)el.info.tileInfo.x, (int)el.info.tileInfo.z \}, (\mbox{\hyperlink{namespace_world_af67b2894bd6cf5e4e4375ca72cb5f93f}{World::WorldHeight}})el.\mbox{\hyperlink{struct_script_element_a1809a6fc6703f0dee100c624a044351e}{info}}.\mbox{\hyperlink{struct_instruction_info_aaefa90071fe733e447a13ad4e418d695}{tileInfo}}.\mbox{\hyperlink{struct_t_i_l_e___i_n_f_o_af059411ac2808e8b7302e683043cfe0e}{h}}, \mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}});}
\DoxyCodeLine{67                 m\_NPC-\/>m\_Direction = \mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a3881836fda05c4ac6003763400e11cab}{directions}}[\mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a09e52ffae82f50dfc01f4e0fc8e9a07c}{directionsIndex}}];}
\DoxyCodeLine{68                 \mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a09e52ffae82f50dfc01f4e0fc8e9a07c}{directionsIndex}}++;}
\DoxyCodeLine{69             \}}
\DoxyCodeLine{70             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{71         \textcolor{keywordflow}{case} ScriptInstruction::NPC\_RUN\_TO\_TILE:}
\DoxyCodeLine{72             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a09e52ffae82f50dfc01f4e0fc8e9a07c}{directionsIndex}} == -\/1)}
\DoxyCodeLine{73             \{}
\DoxyCodeLine{74                 \mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}} = \mbox{\hyperlink{namespace_path_finding_acca623c9f1caa7430c8de20bc9d38ae6}{PathFinding::GetPath}}(m\_NPC.get(), \{ (int)el.info.tileInfo.x, (int)el.info.tileInfo.z \}, (\mbox{\hyperlink{namespace_world_af67b2894bd6cf5e4e4375ca72cb5f93f}{World::WorldHeight}})el.\mbox{\hyperlink{struct_script_element_a1809a6fc6703f0dee100c624a044351e}{info}}.\mbox{\hyperlink{struct_instruction_info_aaefa90071fe733e447a13ad4e418d695}{tileInfo}}.\mbox{\hyperlink{struct_t_i_l_e___i_n_f_o_af059411ac2808e8b7302e683043cfe0e}{h}});}
\DoxyCodeLine{75                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a09e52ffae82f50dfc01f4e0fc8e9a07c}{directionsIndex}} == -\/2)}
\DoxyCodeLine{76                 \{}
\DoxyCodeLine{77                     \mbox{\hyperlink{class_overworld_script_a6d72e78b98e1325c63ee25691750c1a1}{m\_Index}}++;}
\DoxyCodeLine{78                     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{79                 \}}
\DoxyCodeLine{80                 m\_NPC-\/>m\_Direction = \mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a3881836fda05c4ac6003763400e11cab}{directions}}[\mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a09e52ffae82f50dfc01f4e0fc8e9a07c}{directionsIndex}}];}
\DoxyCodeLine{81                 \mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a09e52ffae82f50dfc01f4e0fc8e9a07c}{directionsIndex}}++;}
\DoxyCodeLine{82             \}}
\DoxyCodeLine{83             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a09e52ffae82f50dfc01f4e0fc8e9a07c}{directionsIndex}} >= \mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a3881836fda05c4ac6003763400e11cab}{directions}}.size())}
\DoxyCodeLine{84             \{}
\DoxyCodeLine{85                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_overworld_script_a5c21e8ded7caffc30caa16e4914c970b}{SpriteRun}}(m\_NPC.get(), m\_NPC-\/>m\_Busy, deltaTime))}
\DoxyCodeLine{86                 \{}
\DoxyCodeLine{87                     \mbox{\hyperlink{struct_path_finding_1_1_path}{PathFinding::Path}} path; \mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}} = path;}
\DoxyCodeLine{88                     \mbox{\hyperlink{class_overworld_script_a6d72e78b98e1325c63ee25691750c1a1}{m\_Index}}++;}
\DoxyCodeLine{89                 \}}
\DoxyCodeLine{90                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{91             \}}
\DoxyCodeLine{92             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_overworld_script_a5c21e8ded7caffc30caa16e4914c970b}{SpriteRun}}(m\_NPC.get(), m\_NPC-\/>m\_Busy, deltaTime))}
\DoxyCodeLine{93             \{}
\DoxyCodeLine{94                 \mbox{\hyperlink{namespace_path_finding_a54e47b7868cbe87ab777eb3b04225df4}{PathFinding::ValidatePath}}(m\_NPC.get(), \{ (int)el.info.tileInfo.x, (int)el.info.tileInfo.z \}, (\mbox{\hyperlink{namespace_world_af67b2894bd6cf5e4e4375ca72cb5f93f}{World::WorldHeight}})el.\mbox{\hyperlink{struct_script_element_a1809a6fc6703f0dee100c624a044351e}{info}}.\mbox{\hyperlink{struct_instruction_info_aaefa90071fe733e447a13ad4e418d695}{tileInfo}}.\mbox{\hyperlink{struct_t_i_l_e___i_n_f_o_af059411ac2808e8b7302e683043cfe0e}{h}}, \mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}});}
\DoxyCodeLine{95                 m\_NPC-\/>m\_Direction = \mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a3881836fda05c4ac6003763400e11cab}{directions}}[\mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a09e52ffae82f50dfc01f4e0fc8e9a07c}{directionsIndex}}];}
\DoxyCodeLine{96                 \mbox{\hyperlink{class_overworld_script_aa6ddaef9fe5476edd51d4a879532870d}{m\_Path}}.\mbox{\hyperlink{struct_path_finding_1_1_path_a09e52ffae82f50dfc01f4e0fc8e9a07c}{directionsIndex}}++;}
\DoxyCodeLine{97             \}}
\DoxyCodeLine{98             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{99         \textcolor{keywordflow}{case} ScriptInstruction::FREEZE\_OBJECT:}
\DoxyCodeLine{100             m\_NPC-\/>m\_Busy = (bool)el.\mbox{\hyperlink{struct_script_element_a1809a6fc6703f0dee100c624a044351e}{info}}.\mbox{\hyperlink{struct_instruction_info_aeb8e1e099b46a6e6bcdaa871f6a358d5}{boolInfo}}.\mbox{\hyperlink{struct_b_o_o_l___i_n_f_o_a003868dc373f9619d638fd9dd7445ec6}{state}};}
\DoxyCodeLine{101             \mbox{\hyperlink{class_overworld_script_a6d72e78b98e1325c63ee25691750c1a1}{m\_Index}}++;}
\DoxyCodeLine{102             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{103         \textcolor{keywordflow}{case} ScriptInstruction::FACE\_PLAYER:}
\DoxyCodeLine{104             m\_NPC-\/>m\_Direction = \mbox{\hyperlink{namespace_world_a1e77a1b3a0dd705b40bcdd6dce3677fb}{World::OppositeDirection}}(\mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Direction);}
\DoxyCodeLine{105             \mbox{\hyperlink{class_overworld_script_a6d72e78b98e1325c63ee25691750c1a1}{m\_Index}}++;}
\DoxyCodeLine{106             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{107         \textcolor{keywordflow}{case} ScriptInstruction::FACE\_WITH\_PLAYER:}
\DoxyCodeLine{108             m\_NPC-\/>m\_Direction = \mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Direction;}
\DoxyCodeLine{109             \mbox{\hyperlink{class_overworld_script_a6d72e78b98e1325c63ee25691750c1a1}{m\_Index}}++;}
\DoxyCodeLine{110             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{111         \textcolor{keywordflow}{case} ScriptInstruction::WAIT\_INTERACT:}
\DoxyCodeLine{112             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_overworld_script_ae20ced1d60b7b7297073c0b9c91e7374}{m\_Input}}-\/>HELD\_E \&\& !m\_NPC-\/>m\_Busy \&\& !\mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Busy)}
\DoxyCodeLine{113             \{}
\DoxyCodeLine{114                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespace_world_a2ed451eab19ea5ee589510030d274672}{World::CheckPlayerInteracting}}(\mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Tile, m\_NPC-\/>m\_Tile, \mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Direction))}
\DoxyCodeLine{115                 \{}
\DoxyCodeLine{116                     \mbox{\hyperlink{class_overworld_script_a6d72e78b98e1325c63ee25691750c1a1}{m\_Index}}++;}
\DoxyCodeLine{117                 \}}
\DoxyCodeLine{118             \}}
\DoxyCodeLine{119             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{120         \textcolor{keywordflow}{case} ScriptInstruction::NPC\_AND\_PLAYER\_WALK:}
\DoxyCodeLine{121             \textcolor{keywordflow}{if} (!m\_NPC-\/>m\_Walking)}
\DoxyCodeLine{122             \{}
\DoxyCodeLine{123                 m\_NPC-\/>m\_Walking = \textcolor{keyword}{true};}
\DoxyCodeLine{124                 \mbox{\hyperlink{namespace_world_a77f3dad2b6e8307658e639dd92d9a586}{World::ModifyTilePerm}}(m\_NPC-\/>m\_CurrentLevel, m\_NPC-\/>m\_Direction, m\_NPC-\/>m\_Tile, m\_NPC-\/>m\_WorldLevel, m\_NPC-\/>m\_LastPermission, m\_NPC-\/>m\_LastPermissionPtr);}
\DoxyCodeLine{125             \}}
\DoxyCodeLine{126             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Walking)}
\DoxyCodeLine{127             \{}
\DoxyCodeLine{128                 \mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Walking = \textcolor{keyword}{true};}
\DoxyCodeLine{129                 \mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Controlled = \textcolor{keyword}{true};}
\DoxyCodeLine{130                 \mbox{\hyperlink{namespace_world_a77f3dad2b6e8307658e639dd92d9a586}{World::ModifyTilePerm}}(\mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_CurrentLevel, \mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Direction, \mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Tile, \mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_WorldLevel, m\_NPC-\/>m\_LastPermission, m\_NPC-\/>m\_LastPermissionPtr);}
\DoxyCodeLine{131             \}}
\DoxyCodeLine{132             \textcolor{keywordflow}{if} ((m\_NPC-\/>m\_Walking \&\& \mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Walking) \&\& (\mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Timer >= \mbox{\hyperlink{namespace_world_a78c6b6d3d04c78928c6d11d5124fa292}{World::WALK\_DURATION}} \&\& m\_NPC-\/>m\_Timer >= \mbox{\hyperlink{namespace_world_a78c6b6d3d04c78928c6d11d5124fa292}{World::WALK\_DURATION}}))}
\DoxyCodeLine{133             \{}
\DoxyCodeLine{134                 \mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Walking = \textcolor{keyword}{false}; m\_NPC-\/>m\_Walking = \textcolor{keyword}{false};}
\DoxyCodeLine{135                 \mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Controlled = \textcolor{keyword}{false};}
\DoxyCodeLine{136                 \mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Timer = 0.0; m\_NPC-\/>m\_Timer = 0.0;}
\DoxyCodeLine{137                 \mbox{\hyperlink{namespace_ov___translation_ae99db00d66d3cc85b7c6f691ca959c41}{Ov\_Translation::CentreOnTile}}(\mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_CurrentLevel, \mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_WorldLevel, \&\mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_XPos, \&\mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_YPos, \&\mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_ZPos, \mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Tile, \&\mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Sprite, \&\mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_CurrentIsSlope);}
\DoxyCodeLine{138                 \mbox{\hyperlink{namespace_ov___translation_ae99db00d66d3cc85b7c6f691ca959c41}{Ov\_Translation::CentreOnTile}}(m\_NPC-\/>m\_CurrentLevel, m\_NPC-\/>m\_WorldLevel, \&m\_NPC-\/>m\_XPos, \&m\_NPC-\/>m\_YPos, \&m\_NPC-\/>m\_ZPos, m\_NPC-\/>m\_Tile, \&m\_NPC-\/>m\_Sprite, \&m\_NPC-\/>m\_CurrentIsSlope);}
\DoxyCodeLine{139                 \mbox{\hyperlink{class_overworld_script_a6d72e78b98e1325c63ee25691750c1a1}{m\_Index}}++;}
\DoxyCodeLine{140                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{141             \}}
\DoxyCodeLine{142             \mbox{\hyperlink{namespace_ov___translation_a61f1743192eb77ebe0a461a3cd8a61b8}{Ov\_Translation::Walk}}(\&m\_NPC-\/>m\_Direction, \&m\_NPC-\/>m\_XPos, \&m\_NPC-\/>m\_ZPos, \&m\_NPC-\/>m\_Sprite, deltaTime, \&m\_NPC-\/>m\_Timer);}
\DoxyCodeLine{143             \mbox{\hyperlink{namespace_ov___translation_a61f1743192eb77ebe0a461a3cd8a61b8}{Ov\_Translation::Walk}}(\&\mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Direction, \&\mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_XPos, \&\mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_ZPos, \&\mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Sprite, deltaTime, \&\mbox{\hyperlink{class_overworld_script_a37baca5247ecb1ebb5301babc338606a}{m\_Player}}-\/>m\_Timer);}
\DoxyCodeLine{144             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{145         \textcolor{keywordflow}{case} ScriptInstruction::SHOW\_SPRITE:}
\DoxyCodeLine{146             \textcolor{keywordflow}{if} (el.\mbox{\hyperlink{struct_script_element_a1809a6fc6703f0dee100c624a044351e}{info}}.\mbox{\hyperlink{struct_instruction_info_aeb8e1e099b46a6e6bcdaa871f6a358d5}{boolInfo}}.\mbox{\hyperlink{struct_b_o_o_l___i_n_f_o_a003868dc373f9619d638fd9dd7445ec6}{state}})}
\DoxyCodeLine{147             \{}
\DoxyCodeLine{148                 m\_NPC-\/>messageAllRender((uint32\_t)\mbox{\hyperlink{namespace_s_g_object_a442fc7d9b302ed6ead15044f870f6f92aa9409daa2beb494ef861efb51d5cd6bb}{SGObject::Message::ACTIVATE}});}
\DoxyCodeLine{149             \}}
\DoxyCodeLine{150             \textcolor{keywordflow}{else}}
\DoxyCodeLine{151             \{}
\DoxyCodeLine{152                 m\_NPC-\/>messageAllRender((uint32\_t)\mbox{\hyperlink{namespace_s_g_object_a442fc7d9b302ed6ead15044f870f6f92a5810e63771fb03117a3e2bcf98d5b9f0}{SGObject::Message::DEACTIVATE}});}
\DoxyCodeLine{153             \}}
\DoxyCodeLine{154             \mbox{\hyperlink{class_overworld_script_a6d72e78b98e1325c63ee25691750c1a1}{m\_Index}}++;}
\DoxyCodeLine{155             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{156         \textcolor{keywordflow}{default}:}
\DoxyCodeLine{157             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{158         \}}
\DoxyCodeLine{159     \}}
\DoxyCodeLine{160 }
\DoxyCodeLine{161 \textcolor{keyword}{private}:}
\DoxyCodeLine{162     std::shared\_ptr<Ov\_Sprite::RunSprite> m\_NPC;}
\DoxyCodeLine{163 \};}
\DoxyCodeLine{164 }
\DoxyCodeLine{165 \textcolor{comment}{//Creates either a heap or stack allocated npc script}}
\DoxyCodeLine{166 std::shared\_ptr<NPC\_OverworldScript> \mbox{\hyperlink{_n_p_c_ai_8h_a3334243926aa0845e60d39211791bd4a}{AllocateNPCOvScript}}(std::string filePath, \mbox{\hyperlink{struct_game_g_u_i_1_1_text_box_buffer}{GameGUI::TextBoxBuffer}}* textBuff, std::shared\_ptr<Ov\_Sprite::Sprite> npc, std::shared\_ptr<Ov\_Sprite::RunSprite> player);}
\DoxyCodeLine{167 \mbox{\hyperlink{class_n_p_c___overworld_script}{NPC\_OverworldScript}} \mbox{\hyperlink{_n_p_c_ai_8h_a853170bcb2b8ae5dec6724071d2eb393}{CreateNPCOvScript}}(std::string filePath, \mbox{\hyperlink{struct_game_g_u_i_1_1_text_box_buffer}{GameGUI::TextBoxBuffer}}* textBuff, std::shared\_ptr<Ov\_Sprite::Sprite> npc, std::shared\_ptr<Ov\_Sprite::RunSprite> player);}
\DoxyCodeLine{168 }
\DoxyCodeLine{169 }
\DoxyCodeLine{170 \textcolor{keyword}{class }\mbox{\hyperlink{class_n_p_c___rand_walk}{NPC\_RandWalk}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_ov___sprite_1_1_tile_position}{Ov\_Sprite::TilePosition}}}
\DoxyCodeLine{171 \{}
\DoxyCodeLine{172 \textcolor{keyword}{public}:}
\DoxyCodeLine{173     \mbox{\hyperlink{class_n_p_c___rand_walk_a00f45290c67d4ac77327361ad974ef94}{NPC\_RandWalk}}(std::shared\_ptr<Ov\_Sprite::WalkSprite> npc) \{}
\DoxyCodeLine{174         m\_NPC = npc; \mbox{\hyperlink{class_ov___sprite_1_1_tile_position_ae72d8092fae1aa1cd5f9aafd19ec202a}{m\_CurrentLevel}} = \&m\_NPC-\/>m\_CurrentLevel; \mbox{\hyperlink{class_ov___sprite_1_1_tile_position_a4efae1574198b6d8102bf3d97fb9b077}{m\_XPos}} = \&m\_NPC-\/>m\_XPos; \mbox{\hyperlink{class_ov___sprite_1_1_tile_position_a45434ba26a96f7a3fdc15646a3750360}{m\_ZPos}} = \&m\_NPC-\/>m\_ZPos; \mbox{\hyperlink{class_ov___sprite_1_1_tile_position_a279be5cc21fa45d80acf938b64794203}{m\_Tile}} = \&m\_NPC-\/>m\_Tile;}
\DoxyCodeLine{175     \textcolor{keywordflow}{if} (!s\_Random.\mbox{\hyperlink{class_s_g_random_1_1_random_container_a962dd0f9ff662c27352a8d738d99d9da}{isSeeded}}()) \{ s\_Random.\mbox{\hyperlink{class_s_g_random_1_1_random_container_a79aa1ed11801db265e25b82961af8688}{seed}}(0.0f, MAX\_SEED); \} m\_CoolDownTimer = s\_Random.\mbox{\hyperlink{class_s_g_random_1_1_random_container_ab2f13e7c88876dbd9bdf5073c524478d}{next}}() / 8.0f;\};}
\DoxyCodeLine{176 }
\DoxyCodeLine{177     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_n_p_c___rand_walk_a7f7ba9dee85dc8251c9fc7e69cbe454d}{update}}(\textcolor{keywordtype}{double} deltaTime);}
\DoxyCodeLine{178 }
\DoxyCodeLine{179 \textcolor{keyword}{private}:}
\DoxyCodeLine{180     \textcolor{comment}{//Busy status is set by other components that carry out instructions -\/ while busy the next instuction wont be read}}
\DoxyCodeLine{181     \textcolor{comment}{//AI class must be updated first per frame}}
\DoxyCodeLine{182     std::shared\_ptr<Ov\_Sprite::WalkSprite> m\_NPC;}
\DoxyCodeLine{183     \textcolor{keywordtype}{float} m\_CoolDownTimer = 0.0f;}
\DoxyCodeLine{184 }
\DoxyCodeLine{185     \textcolor{comment}{//Moving helpers}}
\DoxyCodeLine{186     \textcolor{keywordtype}{void} startWalk();}
\DoxyCodeLine{187     \textcolor{keywordtype}{void} cycleEnd();}
\DoxyCodeLine{188     \textcolor{keywordtype}{void} randomWalk();}
\DoxyCodeLine{189 }
\DoxyCodeLine{190     \textcolor{comment}{//Static randomness for randwalk class}}
\DoxyCodeLine{191     \textcolor{keyword}{static} \mbox{\hyperlink{class_s_g_random_1_1_random_container}{SGRandom::RandomContainer}} s\_Random;}
\DoxyCodeLine{192     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{float} MAX\_SEED;}
\DoxyCodeLine{193 \};}
\DoxyCodeLine{194 }
\DoxyCodeLine{195 \textcolor{preprocessor}{\#endif }}

\end{DoxyCode}
