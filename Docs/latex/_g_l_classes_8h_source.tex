\hypertarget{_g_l_classes_8h_source}{}\doxysection{GLClasses.\+h}
\label{_g_l_classes_8h_source}\index{D:/Repositories/Space Engine/SpaceGame/include/renderer/GLClasses.h@{D:/Repositories/Space Engine/SpaceGame/include/renderer/GLClasses.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#ifndef GL\_CLASSES\_H}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#define GL\_CLASSES\_H}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <GL/glew.h>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <fstream>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <sstream>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <unordered\_map>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <glm/glm.hpp>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <glm/gtc/type\_ptr.hpp>}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}utility/SGUtil.h"{}}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{keyword}{namespace }SGRender}
\DoxyCodeLine{16 \{}
\DoxyCodeLine{17     \textcolor{keyword}{class }\mbox{\hyperlink{class_s_g_render_1_1_vertex_buffer}{VertexBuffer}}}
\DoxyCodeLine{18     \{}
\DoxyCodeLine{19     \textcolor{keyword}{public}:}
\DoxyCodeLine{20         \mbox{\hyperlink{class_s_g_render_1_1_vertex_buffer}{VertexBuffer}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{21         \mbox{\hyperlink{class_s_g_render_1_1_vertex_buffer}{\string~VertexBuffer}}();}
\DoxyCodeLine{22 }
\DoxyCodeLine{23         \textcolor{keywordtype}{void} create(\textcolor{keywordtype}{size\_t} dataSize);}
\DoxyCodeLine{24         \textcolor{keywordtype}{void} bufferData(\textcolor{keyword}{const} \textcolor{keywordtype}{void}* data, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} count);}
\DoxyCodeLine{25         \textcolor{keywordtype}{void} bind() \textcolor{keyword}{const};}
\DoxyCodeLine{26         \textcolor{keywordtype}{void} unbind() \textcolor{keyword}{const};}
\DoxyCodeLine{27 }
\DoxyCodeLine{28     \textcolor{keyword}{private}:}
\DoxyCodeLine{29         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} m\_ID = 0;}
\DoxyCodeLine{30     \};}
\DoxyCodeLine{31 }
\DoxyCodeLine{32     \textcolor{keyword}{class }\mbox{\hyperlink{class_s_g_render_1_1_index_buffer}{IndexBuffer}}}
\DoxyCodeLine{33     \{}
\DoxyCodeLine{34     \textcolor{keyword}{public}:}
\DoxyCodeLine{35         \mbox{\hyperlink{class_s_g_render_1_1_index_buffer}{IndexBuffer}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{36         \mbox{\hyperlink{class_s_g_render_1_1_index_buffer}{\string~IndexBuffer}}();}
\DoxyCodeLine{37 }
\DoxyCodeLine{38         \textcolor{keywordtype}{void} create(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} count);}
\DoxyCodeLine{39         \textcolor{keywordtype}{void} bufferData(\textcolor{keyword}{const} \textcolor{keywordtype}{void}* data, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} count);}
\DoxyCodeLine{40         \textcolor{keywordtype}{void} bind() \textcolor{keyword}{const};}
\DoxyCodeLine{41         \textcolor{keywordtype}{void} unbind() \textcolor{keyword}{const};}
\DoxyCodeLine{42 }
\DoxyCodeLine{43         \textcolor{comment}{//return count}}
\DoxyCodeLine{44         \textcolor{keyword}{inline} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} GetCount()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_IndicesCount; \}}
\DoxyCodeLine{45 }
\DoxyCodeLine{46     \textcolor{keyword}{private}:}
\DoxyCodeLine{47         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} m\_ID = 0;}
\DoxyCodeLine{48         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} m\_IndicesCount = 0;}
\DoxyCodeLine{49     \};}
\DoxyCodeLine{50 }
\DoxyCodeLine{51     \textcolor{comment}{//Credit OGLDev for ShadowMapFBO layout}}
\DoxyCodeLine{52     \textcolor{keyword}{class }\mbox{\hyperlink{class_s_g_render_1_1_shadow_map_f_b_o}{ShadowMapFBO}}}
\DoxyCodeLine{53     \{}
\DoxyCodeLine{54     \textcolor{keyword}{public}:}
\DoxyCodeLine{55         \mbox{\hyperlink{class_s_g_render_1_1_shadow_map_f_b_o}{ShadowMapFBO}}();}
\DoxyCodeLine{56 }
\DoxyCodeLine{57         \mbox{\hyperlink{class_s_g_render_1_1_shadow_map_f_b_o}{\string~ShadowMapFBO}}();}
\DoxyCodeLine{58 }
\DoxyCodeLine{59         \textcolor{keywordtype}{bool} init(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} height);}
\DoxyCodeLine{60 }
\DoxyCodeLine{61         \textcolor{keywordtype}{void} bindForWriting();}
\DoxyCodeLine{62         \textcolor{keywordtype}{void} bindForReading(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} slot);}
\DoxyCodeLine{63         \textcolor{keywordtype}{void} unbind()\textcolor{keyword}{ const }\{ glBindFramebuffer(GL\_FRAMEBUFFER, 0); \};}
\DoxyCodeLine{64 }
\DoxyCodeLine{65     \textcolor{keyword}{private}:}
\DoxyCodeLine{66         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} m\_fbo;}
\DoxyCodeLine{67         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} m\_shadowMap;}
\DoxyCodeLine{68     \};}
\DoxyCodeLine{69 }
\DoxyCodeLine{70     \textcolor{comment}{//Buffer layout abstraction layer}}
\DoxyCodeLine{71     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_s_g_render_1_1_vertex_buffer_element}{VertexBufferElement}}}
\DoxyCodeLine{72     \{}
\DoxyCodeLine{73         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} count;}
\DoxyCodeLine{74         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} type;}
\DoxyCodeLine{75         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} normalized;}
\DoxyCodeLine{76         \textcolor{keywordtype}{bool} instanced;}
\DoxyCodeLine{77 }
\DoxyCodeLine{78         \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} getTypeSize(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} type) \{}
\DoxyCodeLine{79             \textcolor{keywordflow}{switch} (type) \{}
\DoxyCodeLine{80             \textcolor{keywordflow}{case} GL\_FLOAT: \textcolor{keywordflow}{return} 4;}
\DoxyCodeLine{81             \textcolor{keywordflow}{case} GL\_UNSIGNED\_INT: \textcolor{keywordflow}{return} 4; \textcolor{comment}{//can extend for more data types}}
\DoxyCodeLine{82             \textcolor{keywordflow}{case} GL\_UNSIGNED\_BYTE: \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{83             \textcolor{keywordflow}{default}: \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{84             \}}
\DoxyCodeLine{85         \}}
\DoxyCodeLine{86 }
\DoxyCodeLine{87         \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} getTypeSize(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} type, \textcolor{keywordtype}{size\_t} count) \{}
\DoxyCodeLine{88             \textcolor{keywordflow}{return} getTypeSize(type) * count;}
\DoxyCodeLine{89         \}}
\DoxyCodeLine{90     \};}
\DoxyCodeLine{91 }
\DoxyCodeLine{92     \textcolor{keyword}{class }\mbox{\hyperlink{class_s_g_render_1_1_vertex_buffer_layout}{VertexBufferLayout}}}
\DoxyCodeLine{93     \{}
\DoxyCodeLine{94     \textcolor{keyword}{public}:}
\DoxyCodeLine{95         \mbox{\hyperlink{class_s_g_render_1_1_vertex_buffer_layout}{VertexBufferLayout}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{96         \mbox{\hyperlink{class_s_g_render_1_1_vertex_buffer_layout}{\string~VertexBufferLayout}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{97 }
\DoxyCodeLine{98         \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{99         \textcolor{keywordtype}{void} push(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} count, \textcolor{keywordtype}{bool} instance) \{ \textcolor{comment}{//default}}
\DoxyCodeLine{100             \textcolor{keyword}{static\_assert}(\textcolor{keyword}{false}, \textcolor{stringliteral}{"{}Unknown type pushed to VBL"{}});}
\DoxyCodeLine{101         \}}
\DoxyCodeLine{102 }
\DoxyCodeLine{103         \textcolor{keyword}{template}<>}
\DoxyCodeLine{104         \textcolor{keywordtype}{void} push<float>(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} count, \textcolor{keywordtype}{bool} instance) \{ \textcolor{comment}{//push float}}
\DoxyCodeLine{105             m\_Elements.push\_back(\{ count, GL\_FLOAT, GL\_FALSE, instance \});}
\DoxyCodeLine{106             m\_Stride += count * VertexBufferElement::getTypeSize(GL\_FLOAT);}
\DoxyCodeLine{107         \}}
\DoxyCodeLine{108 }
\DoxyCodeLine{109         \textcolor{keyword}{template}<>}
\DoxyCodeLine{110         \textcolor{keywordtype}{void} push<unsigned int>(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} count, \textcolor{keywordtype}{bool} instance) \{  \textcolor{comment}{//push uint}}
\DoxyCodeLine{111             m\_Elements.push\_back(\{ count, GL\_UNSIGNED\_INT, GL\_FALSE, instance \});}
\DoxyCodeLine{112             m\_Stride += count * VertexBufferElement::getTypeSize(GL\_UNSIGNED\_INT);}
\DoxyCodeLine{113         \}}
\DoxyCodeLine{114 }
\DoxyCodeLine{115         \textcolor{keyword}{template}<>}
\DoxyCodeLine{116         \textcolor{keywordtype}{void} push<unsigned char>(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} count, \textcolor{keywordtype}{bool} instance) \{  \textcolor{comment}{//push char}}
\DoxyCodeLine{117             m\_Elements.push\_back(\{ count, GL\_UNSIGNED\_BYTE, GL\_TRUE, instance \});}
\DoxyCodeLine{118             m\_Stride += count * VertexBufferElement::getTypeSize(GL\_UNSIGNED\_BYTE);}
\DoxyCodeLine{119         \}}
\DoxyCodeLine{120 }
\DoxyCodeLine{121         \textcolor{keyword}{inline} \textcolor{keyword}{const} std::vector<VertexBufferElement> getElements() \textcolor{keyword}{const}\& \{}
\DoxyCodeLine{122             \textcolor{keywordflow}{return} m\_Elements;}
\DoxyCodeLine{123         \}}
\DoxyCodeLine{124 }
\DoxyCodeLine{125         \textcolor{keyword}{inline} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} getStride()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_Stride; \}}
\DoxyCodeLine{126 }
\DoxyCodeLine{127     \textcolor{keyword}{private}:}
\DoxyCodeLine{128         std::vector<VertexBufferElement> m\_Elements;}
\DoxyCodeLine{129         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} m\_Stride = 0;}
\DoxyCodeLine{130     \};}
\DoxyCodeLine{131 }
\DoxyCodeLine{132     \textcolor{keyword}{class }\mbox{\hyperlink{class_s_g_render_1_1_vertex_array}{VertexArray}}}
\DoxyCodeLine{133     \{}
\DoxyCodeLine{134     \textcolor{keyword}{public}:}
\DoxyCodeLine{135         \mbox{\hyperlink{class_s_g_render_1_1_vertex_array}{VertexArray}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{136         \mbox{\hyperlink{class_s_g_render_1_1_vertex_array}{\string~VertexArray}}();}
\DoxyCodeLine{137 }
\DoxyCodeLine{138         \textcolor{keywordtype}{void} create();}
\DoxyCodeLine{139         \textcolor{keywordtype}{void} bind() \textcolor{keyword}{const};}
\DoxyCodeLine{140         \textcolor{keywordtype}{void} unbind() \textcolor{keyword}{const};}
\DoxyCodeLine{141 }
\DoxyCodeLine{142         \textcolor{keywordtype}{void} addBuffer(\textcolor{keyword}{const} \mbox{\hyperlink{class_s_g_render_1_1_vertex_buffer}{VertexBuffer}}\& vb, \textcolor{keyword}{const} \mbox{\hyperlink{class_s_g_render_1_1_vertex_buffer_layout}{VertexBufferLayout}}\& layout);}
\DoxyCodeLine{143         \textcolor{keywordtype}{void} addBuffer(\textcolor{keyword}{const} \mbox{\hyperlink{class_s_g_render_1_1_vertex_buffer}{VertexBuffer}}\& vb, \textcolor{keyword}{const} \mbox{\hyperlink{class_s_g_render_1_1_vertex_buffer_layout}{VertexBufferLayout}}\& layout, \textcolor{keywordtype}{int} start);}
\DoxyCodeLine{144 }
\DoxyCodeLine{145     \textcolor{keyword}{private}:}
\DoxyCodeLine{146         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} m\_ID;}
\DoxyCodeLine{147     \};}
\DoxyCodeLine{148 }
\DoxyCodeLine{149     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_s_g_render_1_1_shader_program_source}{ShaderProgramSource}} \{}
\DoxyCodeLine{150         std::string VertexSource;}
\DoxyCodeLine{151         std::string FragmentSource;}
\DoxyCodeLine{152     \};}
\DoxyCodeLine{153 }
\DoxyCodeLine{154     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_s_g_render_1_1_geo_shader_program_source}{GeoShaderProgramSource}} \{}
\DoxyCodeLine{155         std::string VertexSource;}
\DoxyCodeLine{156         std::string GeometrySource;}
\DoxyCodeLine{157         std::string FragmentSource;}
\DoxyCodeLine{158     \};}
\DoxyCodeLine{159 }
\DoxyCodeLine{160     \textcolor{keyword}{class }\mbox{\hyperlink{class_s_g_render_1_1_shader}{Shader}}}
\DoxyCodeLine{161     \{}
\DoxyCodeLine{162     \textcolor{keyword}{public}:}
\DoxyCodeLine{163         \mbox{\hyperlink{class_s_g_render_1_1_shader}{Shader}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{164         \mbox{\hyperlink{class_s_g_render_1_1_shader}{\string~Shader}}();}
\DoxyCodeLine{165 }
\DoxyCodeLine{166         \textcolor{keywordtype}{void} create(\textcolor{keyword}{const} std::string\& vert, \textcolor{keyword}{const} std::string\& frag);}
\DoxyCodeLine{167         \textcolor{keywordtype}{void} create(\textcolor{keyword}{const} std::string\& vert, \textcolor{keyword}{const} std::string\& geo, \textcolor{keyword}{const} std::string\& frag);}
\DoxyCodeLine{168 }
\DoxyCodeLine{169         \textcolor{keywordtype}{void} bind() \textcolor{keyword}{const};}
\DoxyCodeLine{170         \textcolor{keywordtype}{void} unbind() \textcolor{keyword}{const};}
\DoxyCodeLine{171         \textcolor{keywordtype}{void} deleteShader() \{ glDeleteProgram(m\_ID); \}}
\DoxyCodeLine{172 }
\DoxyCodeLine{173         \textcolor{comment}{//set uniforms -\/ overload for each data type}}
\DoxyCodeLine{174         \textcolor{keywordtype}{void} setUniform(\textcolor{keyword}{const} std::string\& name, \textcolor{keywordtype}{int} uniform);}
\DoxyCodeLine{175         \textcolor{keywordtype}{void} setUniform(\textcolor{keyword}{const} std::string\& name, \textcolor{keywordtype}{float} uniform);}
\DoxyCodeLine{176         \textcolor{keywordtype}{void} setUniform(\textcolor{keyword}{const} std::string\& name, \textcolor{keyword}{const} glm::vec3* uniform);}
\DoxyCodeLine{177         \textcolor{keywordtype}{void} setUniform(\textcolor{keyword}{const} std::string\& name, \textcolor{keyword}{const} glm::mat4* uniform);}
\DoxyCodeLine{178 }
\DoxyCodeLine{179     \textcolor{keyword}{private}:}
\DoxyCodeLine{180         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} m\_ID = 0;}
\DoxyCodeLine{181         std::unordered\_map<std::string, int> m\_UniformLocationCache;}
\DoxyCodeLine{182         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} compileShader(\textcolor{keyword}{const} std::string\& source, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} type);}
\DoxyCodeLine{183         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} createShader(\textcolor{keyword}{const} std::string\& vertexShader, \textcolor{keyword}{const} std::string\& fragmentShader);}
\DoxyCodeLine{184         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} createGeoShader(\textcolor{keyword}{const} std::string\& vertexShader, \textcolor{keyword}{const} std::string\& fragmentShader, \textcolor{keyword}{const} std::string\& geometryShader);}
\DoxyCodeLine{185         std::string parseShader(\textcolor{keyword}{const} std::string\& filePath);}
\DoxyCodeLine{186         \textcolor{keywordtype}{int} getUniformLocation(\textcolor{keyword}{const} std::string\& name);}
\DoxyCodeLine{187     \};}
\DoxyCodeLine{188 \}}
\DoxyCodeLine{189 }
\DoxyCodeLine{190 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
