\hypertarget{_script_8hpp_source}{}\doxysection{Script.\+hpp}
\label{_script_8hpp_source}\index{D:/Repositories/Space Engine/SpaceGame/include/game/objects/Script.hpp@{D:/Repositories/Space Engine/SpaceGame/include/game/objects/Script.hpp}}
\mbox{\hyperlink{_script_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#ifndef GAME\_SCRIPT\_H}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#define GAME\_SCRIPT\_H}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <stdint.h>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <functional>}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_flags_8hpp}{game/utility/Flags.hpp}}"{}}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{comment}{//Instructions}}
\DoxyCodeLine{13 \textcolor{keyword}{enum class} \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9}{ScriptInstruction}} : uint32\_t}
\DoxyCodeLine{14 \{}
\DoxyCodeLine{15     \textcolor{comment}{//Core}}
\DoxyCodeLine{16     \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a14b52fa379dea9171c3eb958d7fa5795}{NO\_OP}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a6b143195f0fe17b899326724b68b5d23}{BLANK\_OP}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a743abdb4bc9a375e86ab54fe0d90d66b}{SET\_FLAG}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a152b9af76a9e7dd95d9da277b69fdd95}{JMP}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a8add2599424063ff9d7ba7595cb14827}{JMP\_IF}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a9c9ad095e8b0d79cd3b3486d0a65b268}{WAIT\_SEC}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9affd4739a0833093850fa6ff9f850dc80}{PLAYER\_LOCK}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a56ba3be278602cbf7880807897b01289}{PLAYER\_FACE}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9ac5265dc84d0fcf2accab81d88264c95c}{PLAYER\_WALK}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a58c83f2f423f9985a2b839a06e2d42df}{PLAYER\_RUN}}, }
\DoxyCodeLine{17     \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a8fbea8a82b99806b0847eaad5683096e}{OPEN\_MSG\_BOX}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a39eecc75f1c6cf98a120c0e413e74fb0}{CLOSE\_MSG\_BOX}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a1b7ef95d69775316be10f7090f2d62fa}{MSG}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9ac122f2a7ffb62a5af08e43ad72311df6}{CLEAR\_TEXT}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a46420d4e09ef6374c0331c043f680fe1}{GIVE\_ITEM}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a1e9c26eb83a115dad8b0af4cf7f887b6}{TAKE\_ITEM}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a8f07b62f911b7329baff7630add75a39}{WAIT\_INPUT}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a05deeba2b861de7a6dc74016831e3696}{WAIT\_FOR}},}
\DoxyCodeLine{18     \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a0bcec9af87632efdb19fc366983f0c5b}{WARP\_PLAYER}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a1025920b36ad533695401ab67f826e9b}{SET\_PLAYER\_TILE}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a850adf3e9f5b6b46865f1130be8f5714}{PLAYER\_WALK\_TO\_TILE}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a870548a6a085b182db46c735b0a0ef88}{PLAYER\_RUN\_TO\_TILE}},}
\DoxyCodeLine{19 }
\DoxyCodeLine{20     \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9af914f51cc7ee8adec013b4eaef2ac102}{CORE\_MAX}}, \textcolor{comment}{//max to give return term -\/ TODO define each exactly so can guarantee CORE\_MAX is bigger}}
\DoxyCodeLine{21     }
\DoxyCodeLine{22     \textcolor{comment}{//NPC aimed}}
\DoxyCodeLine{23     \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a5a2f57139297fd324c77d0ad104203ea}{FREEZE\_OBJECT}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a9c71b5ee0a13d37c45111f78495189b9}{FACE\_PLAYER}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a87e9184a0c120d3b9f2f8e19fb7a435d}{FACE\_WITH\_PLAYER}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9abfa2d8af07156c8fed0bb39c04db8cb9}{NPC\_FACE}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a18912c6f1a4da5a42b3b6631d89db038}{NPC\_WALK}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9ace08b8dc41785702ab180396a7b1c76e}{NPC\_RUN}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9aae27861e5bc8f4d621ccbca3ea0806de}{WAIT\_INTERACT}}, }
\DoxyCodeLine{24     \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a1debb7b34f406d27a72e8c97565d662d}{NPC\_AND\_PLAYER\_WALK}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a5a92370c57098be106cf1d403348f687}{SHOW\_SPRITE}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a61b483d1fa903f7b5037e2bba020d717}{NPC\_WALK\_TO\_TILE}}, \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9a2d01a191fa2cceeecca1eb5e8c3973c1}{NPC\_RUN\_TO\_TILE}},}
\DoxyCodeLine{25 \};}
\DoxyCodeLine{26 }
\DoxyCodeLine{27 \textcolor{comment}{//NOTE: flags must be written in hex in files (0xFFFFFF syntax)}}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \textcolor{comment}{//Message info -\/ using std ints to guarantee bytes -\/ all on byte borders (nothing bitwise)}}
\DoxyCodeLine{30 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_m_s_g___i_n_f_o}{MSG\_INFO}}}
\DoxyCodeLine{31 \{}
\DoxyCodeLine{32     \textcolor{comment}{//Which list of text to take from}}
\DoxyCodeLine{33     uint32\_t \mbox{\hyperlink{struct_m_s_g___i_n_f_o_aa77a129677458d7680f98b2204dd4adc}{listID}} : 16;}
\DoxyCodeLine{34     \textcolor{comment}{//Where in the list the text instance is}}
\DoxyCodeLine{35     uint32\_t \mbox{\hyperlink{struct_m_s_g___i_n_f_o_aeb8a9f497c2e0d950fa9e128359163f4}{textEntry}} : 16;}
\DoxyCodeLine{36 \};}
\DoxyCodeLine{37 }
\DoxyCodeLine{38 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_f_l_a_g___i_n_f_o}{FLAG\_INFO}}}
\DoxyCodeLine{39 \{}
\DoxyCodeLine{40     uint32\_t \mbox{\hyperlink{struct_f_l_a_g___i_n_f_o_adccd3965f4e1d81f998a7b29a67ed2f8}{flagLoc}} : 16;}
\DoxyCodeLine{41     uint32\_t \mbox{\hyperlink{struct_f_l_a_g___i_n_f_o_aaf6fb35c26dae3806aa2bbd18d1b768b}{state}} : 8;}
\DoxyCodeLine{42     uint32\_t \mbox{\hyperlink{struct_f_l_a_g___i_n_f_o_ad0c605b2a07faf4e38e9987e86a98dc0}{unused}} : 8;}
\DoxyCodeLine{43 \};}
\DoxyCodeLine{44 }
\DoxyCodeLine{45 \textcolor{comment}{//Jump info}}
\DoxyCodeLine{46 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_j_m_p___i_n_f_o}{JMP\_INFO}}}
\DoxyCodeLine{47 \{}
\DoxyCodeLine{48     uint32\_t \mbox{\hyperlink{struct_j_m_p___i_n_f_o_a4194afebe5084420890782efb6356b7b}{line}} : 16;}
\DoxyCodeLine{49     uint32\_t \mbox{\hyperlink{struct_j_m_p___i_n_f_o_abd7265d0429e3970fcd657721504da55}{unused}} : 16;}
\DoxyCodeLine{50 \};}
\DoxyCodeLine{51 }
\DoxyCodeLine{52 \textcolor{comment}{//If info}}
\DoxyCodeLine{53 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_j_m_p___i_f___i_n_f_o}{JMP\_IF\_INFO}}}
\DoxyCodeLine{54 \{}
\DoxyCodeLine{55     uint32\_t \mbox{\hyperlink{struct_j_m_p___i_f___i_n_f_o_a3a27ef6a574725edf3642be6835a2fc2}{flagLoc}} : 16;}
\DoxyCodeLine{56     uint32\_t \mbox{\hyperlink{struct_j_m_p___i_f___i_n_f_o_a84d3755f7c10b888ffee00262b1b8292}{line}} : 16;}
\DoxyCodeLine{57 \};}
\DoxyCodeLine{58 }
\DoxyCodeLine{59 \textcolor{comment}{//Item info}}
\DoxyCodeLine{60 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_i_t_e_m___i_n_f_o}{ITEM\_INFO}}}
\DoxyCodeLine{61 \{}
\DoxyCodeLine{62     uint32\_t \mbox{\hyperlink{struct_i_t_e_m___i_n_f_o_a827d9d609c9b73fc8b01fb38905d83dd}{itemID}} : 16;}
\DoxyCodeLine{63     uint32\_t \mbox{\hyperlink{struct_i_t_e_m___i_n_f_o_ab2a20476113e5aa465b0512acf6370aa}{quantity}} : 16;}
\DoxyCodeLine{64 \};}
\DoxyCodeLine{65 }
\DoxyCodeLine{66 \textcolor{comment}{//Direction info -\/ walk\_in\_dir requires changing dir here and has not got its own data}}
\DoxyCodeLine{67 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_d_i_r_e_c_t_i_o_n___i_n_f_o}{DIRECTION\_INFO}}}
\DoxyCodeLine{68 \{}
\DoxyCodeLine{69     uint32\_t \mbox{\hyperlink{struct_d_i_r_e_c_t_i_o_n___i_n_f_o_a3a18ab801ab810a837a192149caf8969}{direction}} : 8;    \textcolor{comment}{//as direction is 1 byte can just assign the byte}}
\DoxyCodeLine{70     uint32\_t \mbox{\hyperlink{struct_d_i_r_e_c_t_i_o_n___i_n_f_o_a23b9ceda72320bf123f77bc69d10495f}{unused}} : 24;}
\DoxyCodeLine{71 \};}
\DoxyCodeLine{72 }
\DoxyCodeLine{73 \textcolor{comment}{//Busy info}}
\DoxyCodeLine{74 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_b_u_s_y___i_n_f_o}{BUSY\_INFO}}}
\DoxyCodeLine{75 \{}
\DoxyCodeLine{76     uint32\_t \mbox{\hyperlink{struct_b_u_s_y___i_n_f_o_afe9d312d517eb21d9cd4b434a6cdce48}{state}} : 8;}
\DoxyCodeLine{77     uint32\_t \mbox{\hyperlink{struct_b_u_s_y___i_n_f_o_a3105075b3927bd36dbf64972465057c7}{unused}} : 24;}
\DoxyCodeLine{78 \};}
\DoxyCodeLine{79 }
\DoxyCodeLine{80 \textcolor{comment}{//Warp info}}
\DoxyCodeLine{81 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_w_a_r_p___i_n_f_o}{WARP\_INFO}}}
\DoxyCodeLine{82 \{}
\DoxyCodeLine{83     uint32\_t \mbox{\hyperlink{struct_w_a_r_p___i_n_f_o_a5b086b996da4fb2ad591c727996f8d0e}{origin}} : 16;}
\DoxyCodeLine{84     uint32\_t \mbox{\hyperlink{struct_w_a_r_p___i_n_f_o_a5ce52483667fbe0466e592b9178e9f27}{dest}} : 16;}
\DoxyCodeLine{85 \};}
\DoxyCodeLine{86 }
\DoxyCodeLine{87 \textcolor{comment}{//Tile info}}
\DoxyCodeLine{88 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_t_i_l_e___i_n_f_o}{TILE\_INFO}}}
\DoxyCodeLine{89 \{}
\DoxyCodeLine{90     uint32\_t \mbox{\hyperlink{struct_t_i_l_e___i_n_f_o_a24f4ada4b0e9558c4338c90b0b4c5543}{x}} : 12;}
\DoxyCodeLine{91     uint32\_t \mbox{\hyperlink{struct_t_i_l_e___i_n_f_o_a8809118ce54bbd16cb0fc290de6855b1}{z}} : 12;}
\DoxyCodeLine{92     uint32\_t \mbox{\hyperlink{struct_t_i_l_e___i_n_f_o_af059411ac2808e8b7302e683043cfe0e}{h}} : 8;}
\DoxyCodeLine{93 \};}
\DoxyCodeLine{94 }
\DoxyCodeLine{95 \textcolor{comment}{//Wait info}}
\DoxyCodeLine{96 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_w_a_i_t___i_n_f_o}{WAIT\_INFO}}}
\DoxyCodeLine{97 \{}
\DoxyCodeLine{98     uint32\_t \mbox{\hyperlink{struct_w_a_i_t___i_n_f_o_ac2a4258fd3389ec3f7f34db1a58c80b1}{millis}};}
\DoxyCodeLine{99 \};}
\DoxyCodeLine{100 }
\DoxyCodeLine{101 \textcolor{comment}{//Bool (general purpose)}}
\DoxyCodeLine{102 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_b_o_o_l___i_n_f_o}{BOOL\_INFO}}}
\DoxyCodeLine{103 \{}
\DoxyCodeLine{104     uint32\_t \mbox{\hyperlink{struct_b_o_o_l___i_n_f_o_a003868dc373f9619d638fd9dd7445ec6}{state}} : 8;}
\DoxyCodeLine{105     uint32\_t \mbox{\hyperlink{struct_b_o_o_l___i_n_f_o_ac06332ca3bd28ca47aefd1aa7c469454}{unused}} : 24;}
\DoxyCodeLine{106 \};}
\DoxyCodeLine{107 }
\DoxyCodeLine{108 \textcolor{comment}{//Information on what to do with instruction}}
\DoxyCodeLine{109 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_instruction_info}{InstructionInfo}}}
\DoxyCodeLine{110 \{}
\DoxyCodeLine{111     \textcolor{comment}{//contains different info depending on context -\/ all infos take up 4 contiguous bytes and are laid out differently}}
\DoxyCodeLine{112     \textcolor{keyword}{union}}
\DoxyCodeLine{113     \{}
\DoxyCodeLine{114         \mbox{\hyperlink{struct_m_s_g___i_n_f_o}{MSG\_INFO}} \mbox{\hyperlink{struct_instruction_info_a75452e689549673067fe7c40e1847d1e}{msgInfo}};}
\DoxyCodeLine{115         \mbox{\hyperlink{struct_i_t_e_m___i_n_f_o}{ITEM\_INFO}} \mbox{\hyperlink{struct_instruction_info_a5fed4efdb7072d47c10a88836451d178}{itemInfo}};}
\DoxyCodeLine{116         \mbox{\hyperlink{struct_j_m_p___i_n_f_o}{JMP\_INFO}} \mbox{\hyperlink{struct_instruction_info_a6efada128b1503a50a5bf0f410fcc6d2}{jmpInfo}};}
\DoxyCodeLine{117         \mbox{\hyperlink{struct_j_m_p___i_f___i_n_f_o}{JMP\_IF\_INFO}} \mbox{\hyperlink{struct_instruction_info_a2b38c47d56f856b56eb6cdf33e327a40}{jmpIfInfo}};}
\DoxyCodeLine{118         \mbox{\hyperlink{struct_f_l_a_g___i_n_f_o}{FLAG\_INFO}} \mbox{\hyperlink{struct_instruction_info_aae2ee46f5518228058d3c454996a6f8f}{flgInfo}};}
\DoxyCodeLine{119         \mbox{\hyperlink{struct_d_i_r_e_c_t_i_o_n___i_n_f_o}{DIRECTION\_INFO}} \mbox{\hyperlink{struct_instruction_info_af89ddd3fb7473fc34587d3cc742ddbba}{dirInfo}};}
\DoxyCodeLine{120         \mbox{\hyperlink{struct_b_u_s_y___i_n_f_o}{BUSY\_INFO}} \mbox{\hyperlink{struct_instruction_info_afef596377923949d3dee13fddc5d7b08}{busyInfo}};}
\DoxyCodeLine{121         \mbox{\hyperlink{struct_b_o_o_l___i_n_f_o}{BOOL\_INFO}} \mbox{\hyperlink{struct_instruction_info_aeb8e1e099b46a6e6bcdaa871f6a358d5}{boolInfo}};}
\DoxyCodeLine{122         \mbox{\hyperlink{struct_w_a_r_p___i_n_f_o}{WARP\_INFO}} \mbox{\hyperlink{struct_instruction_info_a411593ca5d0530fe25916410365f8a16}{warpInfo}};}
\DoxyCodeLine{123         \mbox{\hyperlink{struct_t_i_l_e___i_n_f_o}{TILE\_INFO}} \mbox{\hyperlink{struct_instruction_info_aaefa90071fe733e447a13ad4e418d695}{tileInfo}};}
\DoxyCodeLine{124         \mbox{\hyperlink{struct_w_a_i_t___i_n_f_o}{WAIT\_INFO}} \mbox{\hyperlink{struct_instruction_info_af7f736156f42a3b381531cfe7559b3a4}{waitInfo}};}
\DoxyCodeLine{125         uint32\_t \mbox{\hyperlink{struct_instruction_info_a83b7d1af3173d144da12658a549bcf17}{clear}};}
\DoxyCodeLine{126     \};}
\DoxyCodeLine{127 \};}
\DoxyCodeLine{128 }
\DoxyCodeLine{129 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_script_element}{ScriptElement}}}
\DoxyCodeLine{130 \{}
\DoxyCodeLine{131     \mbox{\hyperlink{_script_8hpp_a46e7446a4955af0d27a3ba606bb9c7b9}{ScriptInstruction}} \mbox{\hyperlink{struct_script_element_a662d0e8c074cd1207c5261a289385ce5}{instruction}};}
\DoxyCodeLine{132     \mbox{\hyperlink{struct_instruction_info}{InstructionInfo}} \mbox{\hyperlink{struct_script_element_a1809a6fc6703f0dee100c624a044351e}{info}};}
\DoxyCodeLine{133 \};}
\DoxyCodeLine{134 }
\DoxyCodeLine{135 \textcolor{keyword}{typedef} std::shared\_ptr<ScriptElement[]> \mbox{\hyperlink{_script_8hpp_a34d985efc444429aa36e0bb1b52458cf}{Script}};}
\DoxyCodeLine{136 }
\DoxyCodeLine{137 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
